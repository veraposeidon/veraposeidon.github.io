<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.webp" color="#222">
  <meta name="google-site-verification" content="Cj9oDgXxdJe6MoA_lEUQ2rmOouwJeTm5uJNqjhOv8Ng">
  <meta name="msvalidate.01" content="E5D0AA8F5E012DFD9C5F3954DF8283B1">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,700,700italic%7CNoto+Serif+SC:300,300italic,400,400italic,700,700italic%7CSource+Code+Pro:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"shenxiaohai.me","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.15.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"default"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"twikoo","storage":true,"lazyload":false,"nav":null,"activeClass":"twikoo"},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="ã€ŠSQLå¿…çŸ¥å¿…ä¼šã€‹ç¬”è®°+ä»£ç ç‰‡æ®µ">
<meta property="og:type" content="article">
<meta property="og:title" content="ã€ŠSQLå¿…çŸ¥å¿…ä¼šã€‹ç¬”è®°">
<meta property="og:url" content="https://shenxiaohai.me/SQL-in-10Minutes/index.html">
<meta property="og:site_name" content="SHEN&#39;s DevNotes">
<meta property="og:description" content="ã€ŠSQLå¿…çŸ¥å¿…ä¼šã€‹ç¬”è®°+ä»£ç ç‰‡æ®µ">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-01-24T16:21:50.000Z">
<meta property="article:modified_time" content="2023-03-11T05:04:43.314Z">
<meta property="article:author" content="xiaohai">
<meta property="article:tag" content="SQL">
<meta property="article:tag" content="Snippet">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://shenxiaohai.me/SQL-in-10Minutes/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://shenxiaohai.me/SQL-in-10Minutes/","path":"SQL-in-10Minutes/","title":"ã€ŠSQLå¿…çŸ¥å¿…ä¼šã€‹ç¬”è®°"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>ã€ŠSQLå¿…çŸ¥å¿…ä¼šã€‹ç¬”è®° | SHEN's DevNotes</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YDT7F4NZP6"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-YDT7F4NZP6","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="SHEN's DevNotes" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">SHEN's DevNotes</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">å­¦ä¹ ç¬”è®°ï¼Œç¼–ç¨‹æŠ€å·§ï¼Œæ•ˆç‡å·¥å…·</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="æœç´¢" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾<span class="badge">131</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»<span class="badge">18</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£<span class="badge">74</span></a></li><li class="menu-item menu-item-ç¢ç¢å¿µ-|-memos"><a href="https://memos.shenxiaohai.me/" rel="section" target="_blank"><i class="fa fa-file-pen fa-fw"></i>ç¢ç¢å¿µ | Memos</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%94%E8%AE%B0%F0%9F%93%92"><span class="nav-text">ç¬”è®°ğŸ“’</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5"><span class="nav-text">ä»£ç ç‰‡æ®µ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A3%80%E7%B4%A2%E7%BB%93%E6%9E%9C"><span class="nav-text">æ£€ç´¢ç»“æœ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F%E6%A3%80%E7%B4%A2%E6%95%B0%E6%8D%AE"><span class="nav-text">æ’åºæ£€ç´¢æ•°æ®</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%87%E6%BB%A4%E6%95%B0%E6%8D%AE"><span class="nav-text">è¿‡æ»¤æ•°æ®</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%AB%98%E7%BA%A7%E6%95%B0%E6%8D%AE%E8%BF%87%E6%BB%A4"><span class="nav-text">é«˜çº§æ•°æ®è¿‡æ»¤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%A8%E9%80%9A%E9%85%8D%E7%AC%A6%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4"><span class="nav-text">ç”¨é€šé…ç¬¦è¿›è¡Œè¿‡æ»¤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E5%AD%97%E6%AE%B5"><span class="nav-text">è®¡ç®—å­—æ®µ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE"><span class="nav-text">ä½¿ç”¨å‡½æ•°å¤„ç†æ•°æ®</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B1%87%E6%80%BB%E6%95%B0%E6%8D%AE"><span class="nav-text">æ±‡æ€»æ•°æ®</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E7%BB%84%E6%95%B0%E6%8D%AE"><span class="nav-text">åˆ†ç»„æ•°æ®</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="nav-text">ä½¿ç”¨å­æŸ¥è¯¢</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%81%94%E7%BB%93%E8%A1%A8"><span class="nav-text">è”ç»“è¡¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E9%AB%98%E7%BA%A7%E8%81%94%E7%BB%93"><span class="nav-text">åˆ›å»ºé«˜çº§è”ç»“</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%84%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="nav-text">ç»„åˆæŸ¥è¯¢</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="nav-text">æ’å…¥æ•°æ®</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9B%B4%E6%96%B0%E5%92%8C%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE"><span class="nav-text">æ›´æ–°å’Œåˆ é™¤æ•°æ®</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%92%8C%E6%93%8D%E7%BA%B5%E8%A1%A8"><span class="nav-text">åˆ›å»ºå’Œæ“çºµè¡¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E8%A7%86%E5%9B%BE"><span class="nav-text">ä½¿ç”¨è§†å›¾</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="nav-text">ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AE%A1%E7%90%86%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86"><span class="nav-text">ç®¡ç†äº‹åŠ¡å¤„ç†</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%B8%B8%E6%A0%87"><span class="nav-text">ä½¿ç”¨æ¸¸æ ‡</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%AB%98%E7%BA%A7SQL%E7%89%B9%E6%80%A7"><span class="nav-text">é«˜çº§SQLç‰¹æ€§</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">xiaohai</p>
  <div class="site-description" itemprop="description">æˆ‘åœ¨è¿™ä¸ªæŠ€æœ¯åšå®¢ä¸­åˆ†äº«å­¦ä¹ ç¬”è®°ï¼Œæä¾›å®ç”¨æŠ€å·§å’Œå·¥å…·èµ„æºã€‚</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">74</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">131</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/veraposeidon" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;veraposeidon" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/HiYoake" title="Twitter â†’ https:&#x2F;&#x2F;twitter.com&#x2F;HiYoake" rel="noopener me" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/big/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://shenxiaohai.me/SQL-in-10Minutes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="xiaohai">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SHEN's DevNotes">
      <meta itemprop="description" content="æˆ‘åœ¨è¿™ä¸ªæŠ€æœ¯åšå®¢ä¸­åˆ†äº«å­¦ä¹ ç¬”è®°ï¼Œæä¾›å®ç”¨æŠ€å·§å’Œå·¥å…·èµ„æºã€‚">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="ã€ŠSQLå¿…çŸ¥å¿…ä¼šã€‹ç¬”è®° | SHEN's DevNotes">
      <meta itemprop="description" content="ã€ŠSQLå¿…çŸ¥å¿…ä¼šã€‹ç¬”è®°+ä»£ç ç‰‡æ®µ">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          ã€ŠSQLå¿…çŸ¥å¿…ä¼šã€‹ç¬”è®°
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2021-01-24 16:21:50" itemprop="dateCreated datePublished" datetime="2021-01-24T16:21:50Z">2021-01-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-03-11 05:04:43" itemprop="dateModified" datetime="2023-03-11T05:04:43Z">2023-03-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">ç¬”è®°</span></a>
        </span>
    </span>

  
</div>

            <div class="post-description">ã€ŠSQLå¿…çŸ¥å¿…ä¼šã€‹ç¬”è®°+ä»£ç ç‰‡æ®µ</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="ç¬”è®°ğŸ“’"><a href="#ç¬”è®°ğŸ“’" class="headerlink" title="ç¬”è®°ğŸ“’"></a>ç¬”è®°ğŸ“’</h1><ul>
<li>SQLå…³é”®å­—ä½¿ç”¨å¤§å†™ï¼Œå¯¹åˆ—åå’Œè¡¨åä½¿ç”¨å°å†™ã€‚</li>
<li>å°†SQLè¯­å¥åˆ†æˆå¤šè¡Œæ›´å®¹æ˜“é˜…è¯»å’Œè°ƒè¯•ã€‚</li>
</ul>
<h1 id="ä»£ç ç‰‡æ®µ"><a href="#ä»£ç ç‰‡æ®µ" class="headerlink" title="ä»£ç ç‰‡æ®µ"></a>ä»£ç ç‰‡æ®µ</h1><h2 id="æ£€ç´¢ç»“æœ"><a href="#æ£€ç´¢ç»“æœ" class="headerlink" title="æ£€ç´¢ç»“æœ"></a>æ£€ç´¢ç»“æœ</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ£€ç´¢å•ä¸ªåˆ— */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_name </span><br><span class="line"><span class="keyword">FROM</span> Products;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ£€ç´¢å¤šä¸ªåˆ— */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_name, prod_name, prod_price</span><br><span class="line"><span class="keyword">FROM</span> Products;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ£€ç´¢æ‰€æœ‰åˆ— */</span></span><br><span class="line"><span class="comment">/* é€šé…ç¬¦*ä¼šé™ä½æ£€ç´¢æ€§èƒ½ï¼Œä½†èƒ½æ£€ç´¢å‡ºåå­—æœªçŸ¥çš„åˆ— */</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Products;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ£€ç´¢ä¸åŒçš„å€¼ */</span></span><br><span class="line"><span class="comment">/* DISTINCT ä½œç”¨äºæ‰€æœ‰åˆ— */</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> ven_id</span><br><span class="line"><span class="keyword">FROM</span> Products;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* é™åˆ¶ç»“æœ */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_name</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line">LIMIT <span class="number">5</span>; <span class="comment">/* LIMIT 5 OFFSET 3 è¡¨ç¤ºä»å“ªå„¿å¼€å§‹ä»¥åŠæ£€ç´¢çš„è¡Œæ•°ï¼Œå¯ä»¥ç®€åŒ–ä¸ºLIMIT 3,5 */</span></span><br></pre></td></tr></table></figure>

<h2 id="æ’åºæ£€ç´¢æ•°æ®"><a href="#æ’åºæ£€ç´¢æ•°æ®" class="headerlink" title="æ’åºæ£€ç´¢æ•°æ®"></a>æ’åºæ£€ç´¢æ•°æ®</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ’åºæ•°æ® */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_name</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> prod_name;  <span class="comment">/* ORDER BY éœ€è¦ä¿è¯æ˜¯ SELECT è¯­å¥æœ€åä¸€æ¡å¥å­ */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* æŒ‰å¤šä¸ªåˆ—æ’åº */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_id, prod_price, prod_name</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> prod_price, prod_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æŒ‰åˆ—ä½ç½®æ’åº */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_id, prod_price, prod_name</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="number">2</span>, <span class="number">3</span>; <span class="comment">/* 2, 3æŒ‡çš„æ˜¯SELECTæ¸…å•ä¸­çš„ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªåˆ—å */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* æŒ‡å®šæ’åºæ–¹å‘ */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_name</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> prod_name <span class="keyword">DESC</span>, prod_name;<span class="comment">/*é»˜è®¤å‡åºï¼Œé™åºæŒ‡å®šDESCï¼Œå¤šä¸ªåˆ—é™åºéœ€åˆ†åˆ«æŒ‡å®šDESC*/</span></span><br></pre></td></tr></table></figure>

<h2 id="è¿‡æ»¤æ•°æ®"><a href="#è¿‡æ»¤æ•°æ®" class="headerlink" title="è¿‡æ»¤æ•°æ®"></a>è¿‡æ»¤æ•°æ®</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä½¿ç”¨WHEREå­å¥ */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_name, prod_price</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> prod_price <span class="operator">=</span> <span class="number">3.49</span>; <span class="comment">/* ORDER BY åº”ä½äº WHERE ä¹‹å */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* WHEREæ“ä½œç¬¦ */</span></span><br><span class="line"><span class="operator">=</span>  <span class="comment">-- ç­‰äº</span></span><br><span class="line"><span class="operator">&lt;&gt;</span> <span class="comment">-- ä¸ç­‰äº</span></span><br><span class="line"><span class="operator">!=</span> <span class="comment">-- ä¸ç­‰äº</span></span><br><span class="line"><span class="operator">&lt;</span>  <span class="comment">-- å°äº</span></span><br><span class="line"><span class="operator">&lt;=</span> <span class="comment">-- å°äºç­‰äº</span></span><br><span class="line"><span class="operator">!</span><span class="operator">&lt;</span> <span class="comment">-- ä¸å°äº</span></span><br><span class="line"><span class="operator">&gt;</span>  <span class="comment">-- å¤§äº</span></span><br><span class="line"><span class="operator">&gt;=</span> <span class="comment">-- å¤§äºç­‰äº</span></span><br><span class="line"><span class="operator">!</span><span class="operator">&gt;</span> <span class="comment">-- ä¸å¤§äº</span></span><br><span class="line"><span class="keyword">BETWEEN</span> <span class="comment">-- åœ¨æŒ‡å®šä¸¤ä¸ªå€¼ä¹‹é—´</span></span><br><span class="line"><span class="keyword">IS</span> <span class="keyword">NULL</span> <span class="comment">-- ä¸ºNULLå€¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ç©ºå€¼æ£€æŸ¥ */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_name</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> prod_price <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* èŒƒå›´å€¼æ£€æŸ¥ */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_name, prod_price</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> prod_price <span class="keyword">BETWEEN</span> <span class="number">5</span> <span class="keyword">AND</span> <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<h2 id="é«˜çº§æ•°æ®è¿‡æ»¤"><a href="#é«˜çº§æ•°æ®è¿‡æ»¤" class="headerlink" title="é«˜çº§æ•°æ®è¿‡æ»¤"></a>é«˜çº§æ•°æ®è¿‡æ»¤</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ç»„åˆWHEREå­å¥ - AND æ“ä½œç¬¦ */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_id, prod_price, prod_name</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> vend_id <span class="operator">=</span> <span class="string">&#x27;DLL01&#x27;</span> <span class="keyword">AND</span> prod_price <span class="operator">&lt;=</span> <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ç»„åˆWHEREå­å¥ - OR æ“ä½œç¬¦ */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_id, prod_price, prod_name</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> vend_id <span class="operator">=</span> <span class="string">&#x27;DLL01&#x27;</span> <span class="keyword">OR</span> vend_id <span class="operator">=</span> <span class="string">&#x27;BRS01&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ç»„åˆWHEREå­å¥ - æ‹¬å·æ ‡æ˜æ±‚å€¼é¡ºåº */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_id, prod_price, prod_name</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> (vend_id <span class="operator">=</span> <span class="string">&#x27;DLL01&#x27;</span> <span class="keyword">OR</span> vend_id <span class="operator">=</span> <span class="string">&#x27;BRS01&#x27;</span>)</span><br><span class="line">			<span class="keyword">AND</span> prod_price <span class="operator">&gt;=</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* IN æ“ä½œç¬¦ */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_name, prod_price</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> vend_id <span class="keyword">IN</span> (<span class="string">&#x27;DLL01&#x27;</span>, <span class="string">&#x27;BSR01&#x27;</span>) <span class="comment">-- è·Ÿ OR ä¸€ä¸ªæ„æ€</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> prod_name</span><br><span class="line"></span><br><span class="line"><span class="comment">/* NOT æ“ä½œç¬¦ */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_name, prod_price</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> vend_id <span class="operator">=</span> <span class="string">&#x27;DLL01&#x27;</span> <span class="comment">-- è·Ÿ &lt;&gt; / != ä¸€ä¸ªæ„æ€</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> prod_name</span><br></pre></td></tr></table></figure>

<h2 id="ç”¨é€šé…ç¬¦è¿›è¡Œè¿‡æ»¤"><a href="#ç”¨é€šé…ç¬¦è¿›è¡Œè¿‡æ»¤" class="headerlink" title="ç”¨é€šé…ç¬¦è¿›è¡Œè¿‡æ»¤"></a>ç”¨é€šé…ç¬¦è¿›è¡Œè¿‡æ»¤</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ç™¾åˆ†å·% é€šé…ç¬¦ */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_id, prod_name</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> prod_name <span class="keyword">LIKE</span> <span class="string">&#x27;Fish%&#x27;</span>; <span class="comment">-- %è¡¨ç¤ºä»»ä½•å­—ç¬¦å‡ºç°ä»»æ„æ¬¡æ•°ï¼Œèƒ½åŒ¹é…0æ¬¡æ•°ï¼Œä½†ä¸èƒ½åŒ¹é…NULL</span></span><br><span class="line"><span class="comment">-- WHERE prod_name LIKE &#x27;%bean bag%&#x27;;</span></span><br><span class="line"><span class="comment">-- WHERE prod_name LIKE &#x27;F%y&#x27;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä¸‹åˆ’çº¿_ é€šé…ç¬¦ */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_id, prod_name</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> prod_name <span class="keyword">LIKE</span> <span class="string">&#x27;__ inch teddy bear&#x27;</span>; <span class="comment">-- _åªåŒ¹é…å•ä¸ªå­—ç¬¦è€Œä¸æ˜¯å¤šä¸ªå­—ç¬¦</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ–¹æ‹¬å·[] é€šé…ç¬¦ */</span></span><br><span class="line"><span class="keyword">SELECT</span> cust_contact</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> cust_contact <span class="keyword">LIKE</span> <span class="string">&#x27;[JM]%&#x27;</span>  <span class="comment">-- æŒ‡å®šå­—ç¬¦é›†ï¼ŒåŒ¹é…å…¶ä¸­ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="comment">-- WHERE cust_contact LIKE &#x27;[^JM]%&#x27; -- ^è¡¨ç¤ºå¦å®š</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> cust_contact;</span><br></pre></td></tr></table></figure>

<h2 id="è®¡ç®—å­—æ®µ"><a href="#è®¡ç®—å­—æ®µ" class="headerlink" title="è®¡ç®—å­—æ®µ"></a>è®¡ç®—å­—æ®µ</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ‹¼æ¥å­—æ®µ */</span></span><br><span class="line"><span class="keyword">SELECT</span> Concat(vend_name, <span class="string">&#x27; (&#x27;</span>, vend_country, <span class="string">&#x27;)&#x27;</span>) <span class="comment">-- ä½¿ç”¨ +/||/Concat çœ‹DBMS</span></span><br><span class="line"><span class="keyword">FROM</span> Venders</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> vend_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* RTRIMå‡½æ•°å»æ‰å³è¾¹ç©ºæ ¼ */</span></span><br><span class="line"><span class="keyword">SELECT</span> Concat(RTRIM(vend_name), <span class="string">&#x27; (&#x27;</span>, RTRIM(vend_country), <span class="string">&#x27;)&#x27;</span>) <span class="comment">-- ä½¿ç”¨ +/||/Concat çœ‹DBMS</span></span><br><span class="line"><span class="keyword">FROM</span> Venders</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> vend_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä½¿ç”¨åˆ«å */</span></span><br><span class="line"><span class="keyword">SELECT</span> Concat(RTRIM(vend_name), <span class="string">&#x27; (&#x27;</span>, RTRIM(vend_country), <span class="string">&#x27;)&#x27;</span>) <span class="keyword">AS</span> vend_title</span><br><span class="line"><span class="keyword">FROM</span> Venders</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> vend_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ‰§è¡Œç®—æœ¯è®¡ç®— */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_id, quantity, item_price </span><br><span class="line"><span class="keyword">FROM</span> OrderItems</span><br><span class="line"><span class="keyword">WHERE</span> order_num <span class="operator">=</span> <span class="number">20008</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> prod_id,</span><br><span class="line">       quantity,</span><br><span class="line">			 item_price,</span><br><span class="line">       quantity<span class="operator">*</span>item_price <span class="keyword">AS</span> expanded_price</span><br><span class="line"><span class="keyword">FROM</span> OrderItems</span><br><span class="line"><span class="keyword">WHERE</span> order_num <span class="operator">=</span> <span class="number">20008</span>;</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨å‡½æ•°å¤„ç†æ•°æ®"><a href="#ä½¿ç”¨å‡½æ•°å¤„ç†æ•°æ®" class="headerlink" title="ä½¿ç”¨å‡½æ•°å¤„ç†æ•°æ®"></a>ä½¿ç”¨å‡½æ•°å¤„ç†æ•°æ®</h2><p>å¸¸ç”¨å‡½æ•°ç±»åˆ«ï¼š</p>
<ul>
<li>ç”¨äºå¤„ç†æ–‡æœ¬å­—ç¬¦ä¸²(å¦‚åˆ é™¤æˆ–å¡«å……å€¼ï¼Œè½¬æ¢å€¼ä¸ºå¤§å†™æˆ–å°å†™)çš„æ–‡æœ¬å‡½æ•°</li>
<li>ç”¨äºåœ¨æ•°å€¼æ•°æ®ä¸Šè¿›è¡Œç®—æœ¯æ“ä½œ(å¦‚è¿”å›ç»å¯¹å€¼ï¼Œè¿›è¡Œä»£æ•°è¿ç®—)çš„æ•°å€¼å‡½æ•°</li>
<li>ç”¨äºå¤„ç†æ—¥æœŸå’Œæ—¶é—´å€¼å¹¶ä»è¿™äº›å€¼ä¸­æå–ç‰¹å®šæˆåˆ†(å¦‚è¿”å›ä¸¤ä¸ªæ—¥æœŸä¹‹å·®ï¼Œæ£€æŸ¥æ—¥æœŸæœ‰æ•ˆæ€§)çš„æ—¥æœŸå’Œæ—¶é—´å‡½æ•°</li>
<li>è¿”å› DBMS æ­£ä½¿ç”¨çš„ç‰¹æ®Šä¿¡æ¯(å¦‚è¿”å›ç”¨æˆ·ç™»å½•ä¿¡æ¯)çš„ç³»ç»Ÿå‡½æ•°</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ–‡æœ¬å¤„ç†å‡½æ•° */</span></span><br><span class="line"><span class="keyword">SELECT</span> vend_name, <span class="built_in">UPPER</span>(vend_name) <span class="keyword">AS</span> vend_name_upcase </span><br><span class="line"><span class="keyword">FROM</span> Vendors</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> vend_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ—¥æœŸå’Œæ—¶é—´å¤„ç†å‡½æ•° */</span></span><br><span class="line"><span class="keyword">SELECT</span> order_num</span><br><span class="line"><span class="keyword">FROM</span> Orders</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">YEAR</span>(order_date) <span class="operator">=</span> <span class="number">2012</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ•°å€¼å¤„ç†å‡½æ•° */</span></span><br><span class="line">ABS <span class="operator">/</span> COS <span class="operator">/</span> EXP <span class="operator">/</span> PI <span class="operator">/</span> SIN <span class="operator">/</span> SQRT <span class="operator">/</span> TAN</span><br></pre></td></tr></table></figure>

<h2 id="æ±‡æ€»æ•°æ®"><a href="#æ±‡æ€»æ•°æ®" class="headerlink" title="æ±‡æ€»æ•°æ®"></a>æ±‡æ€»æ•°æ®</h2><p>èšé›†å‡½æ•°</p>
<ul>
<li>AVG</li>
<li>COUNT</li>
<li>MAX</li>
<li>MIN</li>
<li>SUM</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* AVGå‡½æ•° */</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(prod_price) <span class="keyword">AS</span> avg_price</span><br><span class="line"><span class="keyword">FROM</span> Products;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(prod_price) <span class="keyword">AS</span> avg_price </span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> vend_id <span class="operator">=</span> <span class="string">&#x27;DLL01&#x27;</span>; <span class="comment">-- AVG()å‡½æ•°ä¼šå¿½ç•¥åˆ—å€¼ä¸ºNULLçš„è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* COUNTå‡½æ•° */</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> num_cust</span><br><span class="line"><span class="keyword">FROM</span> Customers;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(cust_email) <span class="keyword">AS</span> num_cust <span class="comment">-- å¯¹cust_emailåˆ—ä¸­æœ‰å€¼çš„è¡Œè¿›è¡Œè®¡æ•°</span></span><br><span class="line"><span class="keyword">FROM</span> Customers;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* MAXå‡½æ•° */</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(prod_price) <span class="keyword">AS</span> max_price</span><br><span class="line"><span class="keyword">FROM</span> Products;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* MINå‡½æ•° */</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(prod_price) <span class="keyword">AS</span> min_price</span><br><span class="line"><span class="keyword">FROM</span> Products;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* SUMå‡½æ•° */</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(quantity) <span class="keyword">AS</span> items_ordered </span><br><span class="line"><span class="keyword">FROM</span> OrderItems</span><br><span class="line"><span class="keyword">WHERE</span> order_num <span class="operator">=</span> <span class="number">20005</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(item_price<span class="operator">*</span>quantity) <span class="keyword">AS</span> total_price </span><br><span class="line"><span class="keyword">FROM</span> OrderItems</span><br><span class="line"><span class="keyword">WHERE</span> order_num <span class="operator">=</span> <span class="number">20005</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* èšé›†ä¸åŒå€¼ */</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(<span class="keyword">DISTINCT</span> prod_price) <span class="keyword">AS</span> avg_price <span class="comment">-- DISTINCTä¸èƒ½ç”¨äºCOUNT(*)</span></span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> vend_id <span class="operator">=</span> <span class="string">&#x27;DLL01&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ç»„åˆèšé›†å‡½æ•° */</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> num_items,</span><br><span class="line">       <span class="built_in">MIN</span>(prod_price) <span class="keyword">AS</span> price_min,</span><br><span class="line">       <span class="built_in">MAX</span>(prod_price) <span class="keyword">AS</span> price_max,</span><br><span class="line">       <span class="built_in">AVG</span>(prod_price) <span class="keyword">AS</span> price_avg</span><br><span class="line"> <span class="keyword">FROM</span> Products;</span><br></pre></td></tr></table></figure>

<h2 id="åˆ†ç»„æ•°æ®"><a href="#åˆ†ç»„æ•°æ®" class="headerlink" title="åˆ†ç»„æ•°æ®"></a>åˆ†ç»„æ•°æ®</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* åˆ›å»ºåˆ†ç»„ */</span></span><br><span class="line"><span class="keyword">SELECT</span> vend_id, <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> num_prods</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> vend_id;</span><br><span class="line"><span class="comment">-- GROUP BY å­å¥å¯ä»¥åŒ…å«ä»»æ„æ•°ç›®çš„åˆ—ï¼Œå› ä¸ºå¯ä»¥å¯¹åˆ†ç»„è¿›è¡ŒåµŒå¥—ï¼Œæ›´ç»†è‡´åœ°è¿›è¡Œæ•°æ®åˆ†ç»„ã€‚</span></span><br><span class="line"><span class="comment">-- GROUP BU å¿…é¡»å‡ºç°åœ¨WHEREå­å¥ä¹‹åï¼ŒORDER BYå­å¥ä¹‹å‰ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¿‡æ»¤åˆ†ç»„ */</span></span><br><span class="line"><span class="keyword">SELECT</span> cust_id, <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> orders </span><br><span class="line"><span class="keyword">FROM</span> Orders</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> cust_id</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">&gt;=</span> <span class="number">2</span>;</span><br><span class="line"><span class="comment">-- HAVINGæ”¯æŒæ‰€æœ‰WHEREæ“ä½œç¬¦</span></span><br><span class="line"><span class="comment">-- WHEREè¿‡æ»¤è¡Œï¼ŒHAVINGè¿‡æ»¤åˆ†ç»„</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> vend_id, <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> num_prods </span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> prod_price <span class="operator">&gt;=</span> <span class="number">4</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> vend_id</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">&gt;=</span> <span class="number">2</span>;</span><br><span class="line"><span class="comment">-- ä½¿ç”¨HAVINGæ—¶åº”ç»“åˆGROUP BYå­å¥ï¼ŒWHEREå­å¥åˆ™ç”¨äºæ ‡å‡†çš„è¡Œçº§è¿‡æ»¤ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ†ç»„å’Œæ’åº */</span></span><br><span class="line"><span class="keyword">SELECT</span> order_num, <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> items </span><br><span class="line"><span class="keyword">FROM</span> OrderItems</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> order_num</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">&gt;=</span> <span class="number">3</span>;</span><br><span class="line"><span class="comment">-- ä½¿ç”¨GROUP BYæ—¶ï¼Œä¸è¦å¿˜äº†ä½¿ç”¨ORDER BYï¼Œè¿™æ˜¯ä¿è¯æ•°æ®æ­£ç¡®æ’åºçš„å”¯ä¸€æ–¹æ³•ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> order_num, <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> items </span><br><span class="line"><span class="keyword">FROM</span> OrderItems</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> order_num</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">&gt;=</span> <span class="number">3</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> items, order_num;</span><br></pre></td></tr></table></figure>

<p>SELECT å­å¥é¡ºåº</p>
<ol>
<li>SELECT</li>
<li>FROM</li>
<li>WHERE</li>
<li>GROUP BY</li>
<li>HAVING</li>
<li>ORDER BY</li>
</ol>
<h2 id="ä½¿ç”¨å­æŸ¥è¯¢"><a href="#ä½¿ç”¨å­æŸ¥è¯¢" class="headerlink" title="ä½¿ç”¨å­æŸ¥è¯¢"></a>ä½¿ç”¨å­æŸ¥è¯¢</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* åˆ©ç”¨å­æŸ¥è¯¢è¿›è¡Œè¿‡æ»¤ */</span></span><br><span class="line"><span class="keyword">SELECT</span> cust_id</span><br><span class="line"><span class="keyword">FROM</span> Orders</span><br><span class="line"><span class="keyword">WHERE</span> order_num <span class="keyword">IN</span> (<span class="keyword">SELECT</span> order_num</span><br><span class="line">										<span class="keyword">FROM</span> OrderItems</span><br><span class="line">										<span class="keyword">WHERE</span> prod_id <span class="operator">=</span> <span class="string">&#x27;RGAN01&#x27;</span>);</span><br><span class="line"><span class="comment">-- åŒ…å«å­æŸ¥è¯¢çš„SELECTè¯­å¥éš¾ä»¥é˜…è¯»å’Œè°ƒè¯•ï¼Œ</span></span><br><span class="line"><span class="comment">-- æ‰€ä»¥æŠŠå­æŸ¥è¯¢åˆ†è§£ä¸ºå¤šè¡Œå¹¶è¿›è¡Œé€‚å½“çš„ç¼©è¿›ï¼Œèƒ½æå¤§åœ°ç®€åŒ–å­æŸ¥è¯¢çš„ä½¿ç”¨ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> cust_id <span class="keyword">IN</span> (<span class="keyword">SELECT</span> cust_id</span><br><span class="line">									<span class="keyword">FROM</span> Orders</span><br><span class="line">									<span class="keyword">WHERE</span> order_num <span class="keyword">IN</span> (<span class="keyword">SELECT</span> order_num</span><br><span class="line">																			<span class="keyword">FROM</span> OrderItems</span><br><span class="line">																			<span class="keyword">WHERE</span> prod_id <span class="operator">=</span> <span class="string">&#x27;RGAN01&#x27;</span>));</span><br><span class="line"><span class="comment">/* ä½œä¸ºè®¡ç®—å­—æ®µä½¿ç”¨å­æŸ¥è¯¢ */</span></span><br><span class="line"><span class="keyword">SELECT</span> cust_name,</span><br><span class="line">       cust_state,</span><br><span class="line">			(<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)</span><br><span class="line">				<span class="keyword">FROM</span> Orders</span><br><span class="line">				<span class="keyword">WHERE</span> Orders.cust_id <span class="operator">=</span> Customers.cust_id) <span class="keyword">AS</span> orders</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> cust_name;</span><br></pre></td></tr></table></figure>

<h2 id="è”ç»“è¡¨"><a href="#è”ç»“è¡¨" class="headerlink" title="è”ç»“è¡¨"></a>è”ç»“è¡¨</h2><p>å…³ç³»è¡¨è®¾è®¡éœ€è¦æŠŠä¿¡æ¯åˆ†è§£æˆå¤šä¸ªè¡¨ï¼Œä¸€ç±»æ•°æ®ä¸€ä¸ªè¡¨ï¼Œå„è¡¨é€šè¿‡æŸäº›å…±åŒçš„å€¼äº’ç›¸å…³è”ï¼Œèƒ½å¤Ÿæ›´æœ‰æ•ˆåœ°å­˜å‚¨ï¼Œæ›´æ–¹ä¾¿åœ°å¤„ç†ï¼Œè€Œä¸”å¯ä¼¸ç¼©æ€§æ›´å¥½ã€‚ä½†æ˜¯éœ€è¦ä½¿ç”¨è”ç»“æ¥è¿›è¡Œè·¨å¤šä¸ªè¡¨çš„æŸ¥è¯¢ã€‚</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* åˆ›å»ºè”ç»“ */</span></span><br><span class="line"><span class="keyword">SELECT</span> vend_name, prod_name, prod_price </span><br><span class="line"><span class="keyword">FROM</span> Vendors, Products</span><br><span class="line"><span class="keyword">WHERE</span> Vendors.vend_id <span class="operator">=</span> Products.vend_id; </span><br><span class="line"><span class="comment">-- åœ¨å¼•ç”¨çš„åˆ—å¯èƒ½å‡ºç°æ­§ä¹‰æ—¶ï¼Œå¿…é¡»ä½¿ç”¨å®Œå…¨é™å®šåˆ—åï¼šç”¨ä¸€ä¸ªå¥ç‚¹åˆ†éš”è¡¨åå’Œåˆ—åã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* å†…è”ç»“ */</span></span><br><span class="line"><span class="keyword">SELECT</span> vend_name, prod_name, prod_price </span><br><span class="line"><span class="keyword">FROM</span> Vendors <span class="keyword">INNER</span> <span class="keyword">JOIN</span> Products</span><br><span class="line">	<span class="keyword">ON</span> Vendors.vend_id <span class="operator">=</span> Products.vend_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è”ç»“å¤šä¸ªè¡¨ */</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_name, vend_name, prod_price, quantity </span><br><span class="line"><span class="keyword">FROM</span> OrderItems, Products, Vendors</span><br><span class="line"><span class="keyword">WHERE</span> Products.vend_id <span class="operator">=</span> Vendors.vend_id</span><br><span class="line">	<span class="keyword">AND</span> OrderItems.prod_id <span class="operator">=</span> Products.prod_id </span><br><span class="line">	<span class="keyword">AND</span> order_num <span class="operator">=</span> <span class="number">20007</span>;</span><br><span class="line"><span class="comment">-- è”ç»“çš„è¡¨è¶Šå¤šï¼Œæ€§èƒ½ä¸‹é™è¶Šå‰å®³</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ç­‰ä»·æ¯”è¾ƒ */</span></span><br><span class="line"><span class="keyword">SELECT</span> cust_name, cust_contact</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> cust_id <span class="keyword">IN</span> (<span class="keyword">SELECT</span> cust_id</span><br><span class="line">									<span class="keyword">FROM</span> Orders</span><br><span class="line">									<span class="keyword">WHERE</span> order_num <span class="keyword">IN</span> (<span class="keyword">SELECT</span> order_num</span><br><span class="line">																			<span class="keyword">FROM</span> OrderItems</span><br><span class="line">																			<span class="keyword">WHERE</span> prod_id <span class="operator">=</span> <span class="string">&#x27;RGAN01&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> cust_name, cust_contact</span><br><span class="line"><span class="keyword">FROM</span> Customers, Orders, OrderItems</span><br><span class="line"><span class="keyword">WHERE</span> Customers.cust_id <span class="operator">=</span> Orders.cust_id</span><br><span class="line">	<span class="keyword">AND</span> OrderItems.order_num <span class="operator">=</span> Orders.order_num </span><br><span class="line">	<span class="keyword">AND</span> prod_id <span class="operator">=</span> <span class="string">&#x27;RGAN01&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºé«˜çº§è”ç»“"><a href="#åˆ›å»ºé«˜çº§è”ç»“" class="headerlink" title="åˆ›å»ºé«˜çº§è”ç»“"></a>åˆ›å»ºé«˜çº§è”ç»“</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä½¿ç”¨è¡¨åˆ«å */</span>ã€</span><br><span class="line"><span class="keyword">SELECT</span> cust_name, cust_contact</span><br><span class="line"><span class="keyword">FROM</span> Customers <span class="keyword">AS</span> C, Orders <span class="keyword">AS</span> O, OrderItems <span class="keyword">AS</span> OI </span><br><span class="line"><span class="keyword">WHERE</span> C.cust_id <span class="operator">=</span> O.cust_id</span><br><span class="line">	<span class="keyword">AND</span> OI.order_num <span class="operator">=</span> O.order_num </span><br><span class="line">	<span class="keyword">AND</span> prod_id <span class="operator">=</span> <span class="string">&#x27;RGAN01&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è‡ªè”ç»“ */</span></span><br><span class="line"><span class="comment">-- ä½¿ç”¨å­æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">SELECT</span> cust_id, cust_name, cust_contact </span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> cust_name <span class="operator">=</span> (<span class="keyword">SELECT</span> cust_name</span><br><span class="line">									 <span class="keyword">FROM</span> Customers</span><br><span class="line">									 <span class="keyword">WHERE</span> cust_contact <span class="operator">=</span> <span class="string">&#x27;Jim Jones&#x27;</span>);</span><br><span class="line"><span class="comment">-- ä½¿ç”¨è‡ªè”ç»“</span></span><br><span class="line"><span class="keyword">SELECT</span> c1.cust_id, c1.cust_name, c1.cust_contact </span><br><span class="line">	<span class="keyword">FROM</span> Customers <span class="keyword">AS</span> c1, Customers <span class="keyword">AS</span> c2 <span class="comment">-- å®é™…ä¸Šä½¿ç”¨çš„æ˜¯ç›¸åŒçš„è¡¨ï¼Œä½¿ç”¨åˆ«åæ¥åŒºåˆ«</span></span><br><span class="line"><span class="keyword">WHERE</span> c1.cust_name <span class="operator">=</span> c2.cust_name</span><br><span class="line">	<span class="keyword">AND</span> c2.cust_contact <span class="operator">=</span> <span class="string">&#x27;Jim Jones&#x27;</span>;</span><br><span class="line"><span class="comment">-- è‡ªè”ç»“ç”¨æ¥ä»£æ›¿ç›¸åŒè¡¨å†…çš„å­æŸ¥è¯¢è¯­å¥ï¼Œæ€§èƒ½å¯èƒ½ä¼šæ›´å¿«ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* è‡ªç„¶è”ç»“ */</span></span><br><span class="line"><span class="keyword">SELECT</span> C.<span class="operator">*</span>, O.order_num, O.order_date, OI.prod_id, OI.quantity, OI.item_price</span><br><span class="line"><span class="keyword">FROM</span> Customers <span class="keyword">AS</span> C, Orders <span class="keyword">AS</span> O, OrderItems <span class="keyword">AS</span> OI </span><br><span class="line"><span class="keyword">WHERE</span> C.cust_id <span class="operator">=</span> O.cust_id</span><br><span class="line">	<span class="keyword">AND</span> OI.order_num <span class="operator">=</span> O.order_num </span><br><span class="line">	<span class="keyword">AND</span> prod_id <span class="operator">=</span> <span class="string">&#x27;RGAN01&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å¤–è”ç»“ */</span></span><br><span class="line"><span class="keyword">SELECT</span> Customers.cust_id, Orders.order_num </span><br><span class="line"><span class="comment">-- æ£€ç´¢æ‰€æœ‰é¡¾å®¢åŠå…¶è®¢å•</span></span><br><span class="line"><span class="keyword">FROM</span> Customers <span class="keyword">INNER</span> <span class="keyword">JOIN</span> Orders  </span><br><span class="line"><span class="comment">-- æ£€ç´¢åŒ…æ‹¬æ²¡æœ‰è®¢å•é¡¾å®¢åœ¨å†…çš„æ‰€æœ‰é¡¾å®¢ï¼Œ</span></span><br><span class="line"><span class="keyword">FROM</span> Customers <span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> Orders  <span class="comment">-- å·¦è¾¹è¡¨ä¸­é€‰ä¸­æ‰€æœ‰è¡Œ</span></span><br><span class="line"><span class="keyword">FROM</span> Customers <span class="keyword">RIGHT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> Orders  <span class="comment">-- å³è¾¹è¡¨ä¸­é€‰ä¸­æ‰€æœ‰è¡Œ</span></span><br><span class="line">	<span class="keyword">ON</span> Customers.cust_id <span class="operator">=</span> Orders.cust_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä½¿ç”¨å¸¦èšé›†å‡½æ•°çš„è”ç»“ */</span></span><br><span class="line"><span class="keyword">SELECT</span> Customers.cust_id, </span><br><span class="line">			 <span class="built_in">COUNT</span>(Orders.order_num) <span class="keyword">AS</span> num_ord</span><br><span class="line"><span class="keyword">FROM</span> Customers <span class="keyword">INNER</span> <span class="keyword">JOIN</span> Orders</span><br><span class="line">	<span class="keyword">ON</span> Customers.cust_id <span class="operator">=</span> Orders.cust_id</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Customers.cust_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> Customers.cust_id, </span><br><span class="line">			 <span class="built_in">COUNT</span>(Orders.order_num) <span class="keyword">AS</span> num_ord</span><br><span class="line"><span class="keyword">FROM</span> Customers <span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> Orders </span><br><span class="line">	<span class="keyword">ON</span> Customers.cust_id <span class="operator">=</span> Orders.cust_id</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Customers.cust_id;</span><br></pre></td></tr></table></figure>

<h2 id="ç»„åˆæŸ¥è¯¢"><a href="#ç»„åˆæŸ¥è¯¢" class="headerlink" title="ç»„åˆæŸ¥è¯¢"></a>ç»„åˆæŸ¥è¯¢</h2><p>åˆ©ç”¨UNIONæ“ä½œç¬¦å°†å¤šæ¡SELECTè¯­å¥ç»„åˆæˆä¸€ä¸ªç»“æœé›†ã€‚</p>
<ul>
<li>UINIONåˆ†éš”SELECTè¯­å¥</li>
<li>UNIONä¸­çš„æ¯ä¸ªæŸ¥è¯¢å¿…é¡»åŒ…å«ç›¸åŒçš„åˆ—ã€è¡¨è¾¾å¼æˆ–èšé›†å‡½æ•°</li>
<li>åˆ—æ•°æ®ç±»å‹å¿…é¡»å…¼å®¹ï¼Œä¸å¿…å®Œå…¨ç›¸åŒã€‚</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä½¿ç”¨UNION */</span></span><br><span class="line"><span class="comment">-- å•æ¡è¯­å¥</span></span><br><span class="line"><span class="keyword">SELECT</span> cust_name, cust_contact, cust_email </span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> cust_state <span class="keyword">IN</span> (<span class="string">&#x27;IL&#x27;</span>,<span class="string">&#x27;IN&#x27;</span>,<span class="string">&#x27;MI&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> cust_name, cust_contact, cust_email </span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> cust_name <span class="operator">=</span> <span class="string">&#x27;Fun4All&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ä½¿ç”¨UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> cust_name, cust_contact, cust_email</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> cust_state <span class="keyword">IN</span> (<span class="string">&#x27;IL&#x27;</span>,<span class="string">&#x27;IN&#x27;</span>,<span class="string">&#x27;MI&#x27;</span>)</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> cust_name, cust_contact, cust_email</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> cust_name <span class="operator">=</span> <span class="string">&#x27;Fun4All&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ç­‰ä»·</span></span><br><span class="line"><span class="keyword">SELECT</span> cust_name, cust_contact, cust_email</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> cust_state <span class="keyword">IN</span> (<span class="string">&#x27;IL&#x27;</span>,<span class="string">&#x27;IN&#x27;</span>,<span class="string">&#x27;MI&#x27;</span>)</span><br><span class="line">	<span class="keyword">OR</span> cust_name <span class="operator">=</span> <span class="string">&#x27;Fun4All&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä½¿ç”¨UNION ALL */</span></span><br><span class="line"><span class="keyword">SELECT</span> cust_name, cust_contact, cust_email</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> cust_state <span class="keyword">IN</span> (<span class="string">&#x27;IL&#x27;</span>,<span class="string">&#x27;IN&#x27;</span>,<span class="string">&#x27;MI&#x27;</span>)</span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="keyword">SELECT</span> cust_name, cust_contact, cust_email</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> cust_name <span class="operator">=</span> <span class="string">&#x27;Fun4All&#x27;</span>;</span><br><span class="line"><span class="comment">-- UNION ALL ä¸å–æ¶ˆé‡å¤çš„è¡Œ</span></span><br></pre></td></tr></table></figure>

<h2 id="æ’å…¥æ•°æ®"><a href="#æ’å…¥æ•°æ®" class="headerlink" title="æ’å…¥æ•°æ®"></a>æ’å…¥æ•°æ®</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ’å…¥å®Œæ•´è¡Œ */</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Customers</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;1000000006&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Toy Land&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;123 Any Street&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;New York&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;NY&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;11111&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;USA&#x27;</span>,</span><br><span class="line">       <span class="keyword">NULL</span>,</span><br><span class="line">       <span class="keyword">NULL</span>);</span><br><span class="line"><span class="comment">-- è¿™ç§æ–¹å¼ä¸¥æ ¼ä¾èµ–åˆ—çš„é¡ºåº</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Customers(cust_id,</span><br><span class="line">                      cust_name,</span><br><span class="line">                      cust_address,</span><br><span class="line">                      cust_city,</span><br><span class="line">                      cust_state,</span><br><span class="line">                      cust_zip,</span><br><span class="line">                      cust_country,</span><br><span class="line">                      cust_contact,</span><br><span class="line">                      cust_email)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;1000000006&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Toy Land&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;123 Any Street&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;New York&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;NY&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;11111&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;USA&#x27;</span>,</span><br><span class="line">       <span class="keyword">NULL</span>,</span><br><span class="line">       <span class="keyword">NULL</span>);</span><br><span class="line"><span class="comment">-- å¯ä»¥é¡ºåºä¸åŒ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ’å…¥éƒ¨åˆ†è¡Œ */</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Customers(cust_id,</span><br><span class="line">                      cust_name,</span><br><span class="line">                      cust_address,</span><br><span class="line">                      cust_city,</span><br><span class="line">                      cust_state,</span><br><span class="line">                      cust_zip,</span><br><span class="line">                      cust_country)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;1000000006&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Toy Land&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;123 Any Street&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;New York&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;NY&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;11111&#x27;</span>,</span><br><span class="line">			 <span class="string">&#x27;USA&#x27;</span>);</span><br><span class="line"><span class="comment">-- çœç•¥çš„åˆ—ï¼Œå¿…é¡»è¦ä¹ˆå…è®¸ä¸ºNULLï¼Œè¦ä¹ˆæœ‰é»˜è®¤å€¼ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ’å…¥æ£€ç´¢å‡ºçš„æ•°æ® */</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Customers(cust_id,</span><br><span class="line">											cust_contact,</span><br><span class="line">											cust_email,</span><br><span class="line">											cust_name,</span><br><span class="line">											cust_address,</span><br><span class="line">											cust_city,</span><br><span class="line">											cust_state,</span><br><span class="line">											cust_zip,</span><br><span class="line">											cust_country)</span><br><span class="line"><span class="keyword">SELECT</span> cust_id,</span><br><span class="line">       cust_contact,</span><br><span class="line">       cust_email,</span><br><span class="line">       cust_name,</span><br><span class="line">       cust_address,</span><br><span class="line">       cust_city,</span><br><span class="line">       cust_state,</span><br><span class="line">       cust_zip,</span><br><span class="line">       cust_country</span><br><span class="line"><span class="keyword">FROM</span> CustNew;</span><br></pre></td></tr></table></figure>

<h2 id="æ›´æ–°å’Œåˆ é™¤æ•°æ®"><a href="#æ›´æ–°å’Œåˆ é™¤æ•°æ®" class="headerlink" title="æ›´æ–°å’Œåˆ é™¤æ•°æ®"></a>æ›´æ–°å’Œåˆ é™¤æ•°æ®</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ›´æ–°æ•°æ® */</span></span><br><span class="line"><span class="keyword">UPDATE</span> Customers</span><br><span class="line"><span class="keyword">SET</span> cust_email <span class="operator">=</span> <span class="string">&#x27;kim@thetoystore.com&#x27;</span> </span><br><span class="line"><span class="keyword">WHERE</span> cust_id <span class="operator">=</span> <span class="string">&#x27;1000000005&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">UPDATE</span> Customers</span><br><span class="line"><span class="keyword">SET</span> cust_contact <span class="operator">=</span> <span class="string">&#x27;Sam Roberts&#x27;</span>,</span><br><span class="line">		cust_email <span class="operator">=</span> <span class="string">&#x27;sam@toyland.com&#x27;</span> </span><br><span class="line"><span class="keyword">WHERE</span> cust_id <span class="operator">=</span> <span class="string">&#x27;1000000006&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">UPDATE</span> Customers</span><br><span class="line"><span class="keyword">SET</span> cust_email <span class="operator">=</span> <span class="keyword">NULL</span>  <span class="comment">-- è¦åˆ é™¤æŸä¸ªåˆ—çš„å€¼ï¼Œå¯è®¾ç½®å®ƒä¸ºNULLã€‚</span></span><br><span class="line"><span class="keyword">WHERE</span> cust_id <span class="operator">=</span> <span class="string">&#x27;1000000005&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ é™¤æ•°æ® */</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> cust_id <span class="operator">=</span> <span class="string">&#x27;1000000006&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>æ›´æ–°å’Œåˆ é™¤æ•°æ®å¾ˆå®¹æ˜“ï¼Œæ‰€ä»¥åº”å½“å¾ˆä»”ç»†åœ°ä½¿ç”¨å®ƒã€‚æ›´æ–°å’Œåˆ é™¤çš„æŒ‡å¯¼åŸåˆ™å¦‚ä¸‹ï¼š</p>
<ul>
<li>é™¤éç¡®å®æ‰“ç®—æ›´æ–°å’Œåˆ é™¤æ¯ä¸€è¡Œï¼Œå¦åˆ™ç»å¯¹ä¸è¦ä½¿ç”¨ä¸å¸¦ WHERE å­å¥ çš„ UPDATE æˆ– DELETE è¯­å¥ã€‚</li>
<li>ä¿è¯æ¯ä¸ªè¡¨éƒ½æœ‰ä¸»é”®ï¼Œå°½å¯èƒ½ åƒ WHERE å­å¥é‚£æ ·ä½¿ç”¨å®ƒ(å¯ä»¥æŒ‡å®šå„ä¸»é”®ã€å¤šä¸ªå€¼æˆ–å€¼çš„èŒƒå›´)ã€‚</li>
<li>åœ¨ UPDATE æˆ– DELETE è¯­å¥ä½¿ç”¨ WHERE å­å¥å‰ï¼Œåº”è¯¥å…ˆç”¨ SELECT è¿› è¡Œæµ‹è¯•ï¼Œä¿è¯å®ƒè¿‡æ»¤çš„æ˜¯æ­£ç¡®çš„è®°å½•ï¼Œä»¥é˜²ç¼–å†™çš„ WHERE å­å¥ä¸æ­£ç¡®ã€‚</li>
<li>ä½¿ç”¨å¼ºåˆ¶å®æ–½å¼•ç”¨å®Œæ•´æ€§çš„æ•°æ®åº“ï¼Œè¿™æ · DBMS å°†ä¸å…è®¸åˆ é™¤å…¶æ•°æ®ä¸å…¶ä»–è¡¨ç›¸å…³è”çš„è¡Œã€‚</li>
</ul>
<h2 id="åˆ›å»ºå’Œæ“çºµè¡¨"><a href="#åˆ›å»ºå’Œæ“çºµè¡¨" class="headerlink" title="åˆ›å»ºå’Œæ“çºµè¡¨"></a>åˆ›å»ºå’Œæ“çºµè¡¨</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* è¡¨åˆ›å»ºåŸºç¡€ */</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Products</span><br><span class="line">(</span><br><span class="line">    prod_id    <span class="type">CHAR</span>(<span class="number">10</span>)      <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    vend_id    <span class="type">CHAR</span>(<span class="number">10</span>)      <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    prod_name  <span class="type">CHAR</span>(<span class="number">254</span>)     <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    prod_price <span class="type">DECIMAL</span>(<span class="number">8</span>,<span class="number">2</span>)  <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    prod_desc  <span class="type">VARCHAR</span>(<span class="number">1000</span>) <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä½¿ç”¨NULLå€¼ */</span></span><br><span class="line"><span class="comment">-- æ¯ä¸ªè¡¨åˆ—è¦ä¹ˆæ˜¯NULLåˆ—ï¼Œè¦ä¹ˆæ˜¯NOT NULLåˆ—</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Orders</span><br><span class="line">(</span><br><span class="line">    order_num  <span class="type">INTEGER</span>   <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    order_date DATETIME  <span class="keyword">NULL</span>,</span><br><span class="line">    cust_id    <span class="type">CHAR</span>(<span class="number">10</span>)  , <span class="comment">-- è¡¨ç¤ºå¯ä»¥NULLå€¼</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æŒ‡å®šé»˜è®¤å€¼ */</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> OrderItems</span><br><span class="line">&#123;</span><br><span class="line">order_num    <span class="type">INTEGER</span>       <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">order_item   <span class="type">INTEGER</span>       <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">prod_id      <span class="type">CHAR</span>(<span class="number">10</span>)      <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">quantity     <span class="type">INTEGER</span>       <span class="keyword">NOT</span> <span class="keyword">NULL</span>,  <span class="keyword">DEFAULT</span> <span class="number">1</span>,</span><br><span class="line">item_price   <span class="type">DECIMAL</span>(<span class="number">8</span>,<span class="number">2</span>)  <span class="keyword">NOT</span> <span class="keyword">NULL</span>, </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ›´æ–°è¡¨ -- å¢åŠ åˆ— */</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Vendors</span><br><span class="line"><span class="keyword">ADD</span> vend_phone <span class="type">CHAR</span>(<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ›´æ–°è¡¨ -- åˆ é™¤åˆ— */</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Vendors</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">COLUMN</span> vend_phone;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ é™¤è¡¨ */</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> CustCopy;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¤æ‚çš„è¡¨ç»“æ„æ›´æ”¹ä¸€èˆ¬éœ€è¦æ‰‹åŠ¨åˆ é™¤è¿‡ç¨‹ï¼Œæ¶‰åŠä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>ç”¨æ–°çš„åˆ—å¸ƒå±€åˆ›å»ºä¸€ä¸ªæ–°è¡¨;</li>
<li>ä½¿ç”¨ INSERT SELECT è¯­å¥ä»æ—§è¡¨å¤åˆ¶æ•°æ®åˆ°æ–°è¡¨ã€‚æœ‰å¿…è¦çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨è½¬æ¢å‡½æ•°å’Œè®¡ç®—å­—æ®µï¼›</li>
<li>æ£€éªŒåŒ…å«æ‰€éœ€æ•°æ®çš„æ–°è¡¨;</li>
<li>é‡å‘½åæ—§è¡¨(å¦‚æœç¡®å®šï¼Œå¯ä»¥åˆ é™¤å®ƒ);</li>
<li>ç”¨æ—§è¡¨åŸæ¥çš„åå­—é‡å‘½åæ–°è¡¨;</li>
<li>æ ¹æ®éœ€è¦ï¼Œé‡æ–°åˆ›å»ºè§¦å‘å™¨ã€å­˜å‚¨è¿‡ç¨‹ã€ç´¢å¼•å’Œå¤–é”®ã€‚</li>
</ol>
<h2 id="ä½¿ç”¨è§†å›¾"><a href="#ä½¿ç”¨è§†å›¾" class="headerlink" title="ä½¿ç”¨è§†å›¾"></a>ä½¿ç”¨è§†å›¾</h2><p>è§†å›¾ï¼š</p>
<ul>
<li>è§†å›¾ä¸ºè™šæ‹Ÿçš„è¡¨ã€‚</li>
<li>å®ƒä»¬åŒ…å«çš„ä¸æ˜¯æ•°æ®è€Œæ˜¯æ ¹æ®éœ€è¦æ£€ç´¢æ•°æ®çš„æŸ¥è¯¢ã€‚</li>
<li>è§†å›¾æä¾›äº†ä¸€ç§å°è£… SELECT è¯­å¥çš„å±‚æ¬¡ï¼Œå¯ç”¨æ¥ç®€åŒ–æ•°æ®å¤„ç†ï¼Œé‡æ–°æ ¼å¼åŒ–æˆ–ä¿æŠ¤åŸºç¡€æ•°æ®ã€‚</li>
</ul>
<p>è§†å›¾å¸¸è§åº”ç”¨ï¼š</p>
<ul>
<li>é‡ç”¨ SQL è¯­å¥ã€‚</li>
<li>ç®€åŒ–å¤æ‚çš„ SQL æ“ä½œã€‚åœ¨ç¼–å†™æŸ¥è¯¢åï¼Œå¯ä»¥æ–¹ä¾¿åœ°é‡ç”¨å®ƒè€Œä¸å¿…çŸ¥é“ å…¶åŸºæœ¬æŸ¥è¯¢ç»†èŠ‚ã€‚</li>
<li>ä½¿ç”¨è¡¨çš„ä¸€éƒ¨åˆ†è€Œä¸æ˜¯æ•´ä¸ªè¡¨ã€‚</li>
<li>ä¿æŠ¤æ•°æ®ã€‚å¯ä»¥æˆäºˆç”¨æˆ·è®¿é—®è¡¨çš„ç‰¹å®šéƒ¨åˆ†çš„æƒé™ï¼Œè€Œä¸æ˜¯æ•´ä¸ªè¡¨çš„è®¿é—®æƒé™ã€‚</li>
<li>æ›´æ”¹æ•°æ®æ ¼å¼å’Œè¡¨ç¤ºã€‚è§†å›¾å¯è¿”å›ä¸åº•å±‚è¡¨çš„è¡¨ç¤ºå’Œæ ¼å¼ä¸åŒçš„æ•°æ®ã€‚</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä¸¾ä¾‹è¯´æ˜ */</span></span><br><span class="line"><span class="comment">-- è”ç»“æ–¹å¼</span></span><br><span class="line"><span class="keyword">SELECT</span> cust_name, cust_contact</span><br><span class="line"><span class="keyword">FROM</span> Customers, Orders, OrderItems</span><br><span class="line"><span class="keyword">WHERE</span> Customers.cust_id <span class="operator">=</span> Orders.cust_id</span><br><span class="line">	<span class="keyword">AND</span> OrderItems.order_num <span class="operator">=</span> Orders.order_num </span><br><span class="line">	<span class="keyword">AND</span> prod_id <span class="operator">=</span> <span class="string">&#x27;RGAN01&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- è§†å›¾æ–¹å¼</span></span><br><span class="line"><span class="keyword">SELECT</span> cust_name, cust_contact </span><br><span class="line"><span class="keyword">FROM</span> ProductCustomers   <span class="comment">-- è§†å›¾ï¼Œä»£è¡¨çš„ä¸æ˜¯æ•°æ®ï¼Œè€Œæ˜¯ä¸€ä¸ªæŸ¥è¯¢ã€‚</span></span><br><span class="line"><span class="keyword">WHERE</span> prod_id <span class="operator">=</span> <span class="string">&#x27;RGAN01&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ›å»ºè§†å›¾ - åˆ©ç”¨è§†å›¾ç®€åŒ–å¤æ‚çš„è”ç»“ */</span></span><br><span class="line"><span class="comment">-- åˆ›å»º</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> ProductCustomers <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> cust_name, cust_contact, prod_id </span><br><span class="line"><span class="keyword">FROM</span> Customers, Orders, OrderItems</span><br><span class="line"><span class="keyword">WHERE</span> Customers.cust_id <span class="operator">=</span> Orders.cust_id</span><br><span class="line">	<span class="keyword">AND</span> OrderItems.order_num <span class="operator">=</span> Orders.order_num;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">SELECT</span> cust_name, cust_contact </span><br><span class="line"><span class="keyword">FROM</span> ProductCustomers</span><br><span class="line"><span class="keyword">WHERE</span> prod_id <span class="operator">=</span> <span class="string">&#x27;RGAN01&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ›å»ºè§†å›¾ - ç”¨è§†å›¾é‡æ–°æ ¼å¼åŒ–æ£€ç´¢å‡ºçš„æ•°æ® */</span></span><br><span class="line"><span class="comment">-- SELECTæ—¶æ ¼å¼åŒ–</span></span><br><span class="line"><span class="keyword">SELECT</span> RTRIM(vend_name) <span class="operator">+</span> <span class="string">&#x27; (&#x27;</span> <span class="operator">+</span> RTRIM(vend_country) <span class="operator">+</span> <span class="string">&#x27;)&#x27;</span> </span><br><span class="line"><span class="keyword">AS</span> vend_title</span><br><span class="line"><span class="keyword">FROM</span> Vendors</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> vend_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åœ¨è§†å›¾å†…æ ¼å¼åŒ–</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> VendorLocations <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> RTRIM(vend_name) <span class="operator">+</span> <span class="string">&#x27; (&#x27;</span> <span class="operator">+</span> RTRIM(vend_country) <span class="operator">+</span> <span class="string">&#x27;)&#x27;</span></span><br><span class="line">       <span class="keyword">AS</span> vend_title</span><br><span class="line"><span class="keyword">FROM</span> Vendors;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ›å»ºè§†å›¾ - ç”¨è§†å›¾è¿‡æ»¤ä¸æƒ³è¦çš„æ•°æ® */</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> CustomerEMailList <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> cust_id, cust_name, cust_email</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> cust_email <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ›å»ºè§†å›¾ - ä½¿ç”¨è§†å›¾ä¸è®¡ç®—å­—æ®µ */</span></span><br><span class="line"><span class="comment">-- åŸå§‹æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">SELECT</span> prod_id,</span><br><span class="line">       quantity,</span><br><span class="line">			 item_price,</span><br><span class="line">       quantity<span class="operator">*</span>item_price <span class="keyword">AS</span> expanded_price</span><br><span class="line"><span class="keyword">FROM</span> OrderItems</span><br><span class="line"><span class="keyword">WHERE</span> order_num <span class="operator">=</span> <span class="number">20008</span>;</span><br><span class="line"><span class="comment">-- åˆ›å»ºè§†å›¾</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> OrderItemsExpanded <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> order_num,</span><br><span class="line">       prod_id,</span><br><span class="line">       quantity,</span><br><span class="line">		   item_price,</span><br><span class="line">       quantity<span class="operator">*</span>item_price <span class="keyword">AS</span> expanded_price</span><br><span class="line"><span class="keyword">FROM</span> OrderItems;</span><br><span class="line"><span class="comment">-- ä½¿ç”¨è§†å›¾</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> OrderItemsExpanded </span><br><span class="line"><span class="keyword">WHERE</span> order_num <span class="operator">=</span> <span class="number">20008</span>;</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹"><a href="#ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹"></a>ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹</h2><p>å­˜å‚¨è¿‡ç¨‹ç›¸å¯¹ä¼šæ¯”è¾ƒå¤æ‚äº›ï¼Œä¹¦ä¸Šä¹Ÿæ²¡æœ‰è¯¦ç»†çš„ä»‹ç»ã€‚</p>
<p>æˆ‘ç†è§£çš„å­˜å‚¨è¿‡ç¨‹ï¼Œå°±æ˜¯åœ¨ä¸€ä¸ªä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå•ä¸ªçš„SQLè¯­å¥æ— æ³•å®Œæˆä»»åŠ¡ï¼Œéœ€è¦å¯¹ä¸šåŠ¡æ¶‰åŠåˆ°çš„å¤šæ¡SQLè¯­å¥è¿›è¡Œå°è£…ï¼ŒæŠ½å‡ºä¸€ä¸ªå‡½æ•°å½¢å¼çš„APIã€‚</p>
<p>å¥½å¤„å°±æ˜¯å°è£…ä¹‹åæ‰§è¡Œç›¸å¯¹ç®€å•äº†ï¼Œè€Œä¸”å¼€å‘äººå‘˜ä½¿ç”¨åŒæ ·çš„æ­¥éª¤ï¼Œä¿è¯äº†æ•°æ®ä¸€è‡´ï¼Œå‡å°‘é”™è¯¯å‘ç”Ÿçš„æ¦‚ç‡ã€‚</p>
<h2 id="ç®¡ç†äº‹åŠ¡å¤„ç†"><a href="#ç®¡ç†äº‹åŠ¡å¤„ç†" class="headerlink" title="ç®¡ç†äº‹åŠ¡å¤„ç†"></a>ç®¡ç†äº‹åŠ¡å¤„ç†</h2><p>ä½¿ç”¨äº‹åŠ¡å¤„ç†(transaction processing)ï¼Œé€šè¿‡ç¡®ä¿æˆæ‰¹çš„ SQL æ“ä½œè¦ä¹ˆå®Œå…¨æ‰§è¡Œï¼Œè¦ä¹ˆå®Œå…¨ä¸æ‰§è¡Œï¼Œæ¥ç»´æŠ¤æ•°æ®åº“çš„å®Œæ•´æ€§ã€‚</p>
<p>äº‹åŠ¡å¤„ç†ç”¨æ¥ç®¡ç†ï¼šINSERTè¯­å¥ã€UPDATEè¯­å¥ã€DELETEè¯­å¥ã€‚</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* äº‹åŠ¡å¼€å§‹å’Œç»“æŸ */</span></span><br><span class="line"><span class="comment">-- SQL Server</span></span><br><span class="line"><span class="keyword">BEGIN</span> TRANSACTION </span><br><span class="line">...</span><br><span class="line"><span class="keyword">COMMIT</span> TRANSACTION</span><br><span class="line"><span class="comment">-- MySQL</span></span><br><span class="line"><span class="keyword">START</span> TRANSACTION</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ROLLBACK */</span></span><br><span class="line"><span class="comment">-- ç”¨æ¥å›é€€(æ’¤é”€)SQLè¯­å¥</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> Orders;</span><br><span class="line"><span class="keyword">ROLLBACK</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">/* COMMIT */</span></span><br><span class="line"><span class="keyword">BEGIN</span> TRANSACTION</span><br><span class="line"><span class="keyword">DELETE</span> OrderItems <span class="keyword">WHERE</span> order_num <span class="operator">=</span> <span class="number">12345</span> </span><br><span class="line"><span class="keyword">DELETE</span> Orders <span class="keyword">WHERE</span> order_num <span class="operator">=</span> <span class="number">12345</span> </span><br><span class="line"><span class="keyword">COMMIT</span> TRANSACTION  <span class="comment">-- å¦‚æœå…¶ä¸­ä¸€æ¡å¤±æ•ˆï¼Œåˆ™COMMITä¸ä¼šæäº¤ï¼Œä¿è¯ä¸ä¼šéƒ¨åˆ†åˆ é™¤</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä¿ç•™ç‚¹ */</span></span><br><span class="line"><span class="comment">-- ä½¿ç”¨ç®€å•çš„ ROLLBACK å’Œ COMMIT è¯­å¥ï¼Œå°±å¯ä»¥å†™å…¥æˆ–æ’¤é”€æ•´ä¸ªäº‹åŠ¡ã€‚</span></span><br><span class="line"><span class="comment">-- å¤æ‚çš„äº‹åŠ¡å¯èƒ½éœ€è¦éƒ¨åˆ†æäº¤æˆ–å›é€€ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- SQL Server</span></span><br><span class="line">SAVE TRANSACTION delete1;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">ROLLBACK</span> TRANSACTION delete1;</span><br><span class="line"><span class="comment">-- MySQL</span></span><br><span class="line"><span class="keyword">SAVEPOINT</span> delete1;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">ROLLBACK</span> <span class="keyword">TO</span> delete1;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å®Œæ•´çš„SQL Serveräº‹åŠ¡ä¾‹å­ */</span></span><br><span class="line"><span class="keyword">BEGIN</span> TRANSACTION</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Customers(cust_id, cust_name) </span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;1000000010&#x27;</span>, <span class="string">&#x27;Toys Emporium&#x27;</span>);</span><br><span class="line">SAVE TRANSACTION StartOrder;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Orders(order_num, order_date, cust_id) </span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">20100</span>,<span class="string">&#x27;2001/12/1&#x27;</span>,<span class="string">&#x27;1000000010&#x27;</span>);</span><br><span class="line">IF @<span class="variable">@ERROR</span> <span class="operator">&lt;&gt;</span> <span class="number">0</span> <span class="keyword">ROLLBACK</span> TRANSACTION StartOrder;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> OrderItems(order_num, order_item, prod_id, quantity, item_price)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">20100</span>, <span class="number">1</span>, <span class="string">&#x27;BR01&#x27;</span>, <span class="number">100</span>, <span class="number">5.49</span>);</span><br><span class="line">IF @<span class="variable">@ERROR</span> <span class="operator">&lt;&gt;</span> <span class="number">0</span> <span class="keyword">ROLLBACK</span> TRANSACTION StartOrder;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> OrderItems(order_num, order_item, prod_id, quantity, item_price)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">20100</span>, <span class="number">2</span>, <span class="string">&#x27;BR03&#x27;</span>, <span class="number">100</span>, <span class="number">10.99</span>);</span><br><span class="line">IF @<span class="variable">@ERROR</span> <span class="operator">&lt;&gt;</span> <span class="number">0</span> <span class="keyword">ROLLBACK</span> TRANSACTION StartOrder;</span><br><span class="line"><span class="keyword">COMMIT</span> TRANSACTION</span><br><span class="line"><span class="comment">-- ä¿ç•™ç‚¹è¶Šå¤šè¶Šå¥½ï¼Œè¶Šå¤šæ„å‘³ç€èƒ½å¤Ÿè¶Šçµæ´»åœ°è¿›è¡Œå›é€€ã€‚</span></span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨æ¸¸æ ‡"><a href="#ä½¿ç”¨æ¸¸æ ‡" class="headerlink" title="ä½¿ç”¨æ¸¸æ ‡"></a>ä½¿ç”¨æ¸¸æ ‡</h2><p>æ¸¸æ ‡å°±æ˜¯ä¸€ç§å¤„ç†ç»“æœé›†çš„æœºåˆ¶ï¼Œå¯ä»¥å®šä½åˆ°ç»“æœé›†çš„æŸä¸€è¡Œè¿›è¡Œå¤„ç†ã€‚ç”¨å¤„ä¸»è¦åŒ…æ‹¬ï¼š</p>
<ul>
<li>å®šä½åˆ°ç»“æœé›†ä¸­çš„æŸä¸€è¡Œï¼›</li>
<li>å¯¹å½“å‰ä½ç½®çš„æ•°æ®è¿›è¡Œè¯»å†™ï¼›</li>
<li>å¯ä»¥å¯¹ç»“æœé›†ä¸­çš„æ•°æ®å•ç‹¬æ“ä½œï¼Œè€Œä¸æ˜¯æ•´è¡Œæ‰§è¡Œç›¸åŒçš„æ“ä½œï¼›</li>
<li>æ˜¯é¢å‘é›†åˆçš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå’Œé¢å‘è¡Œçš„ç¨‹åºè®¾è®¡ä¹‹é—´çš„æ¡¥æ¢ã€‚</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* åˆ›å»ºæ¸¸æ ‡ */</span></span><br><span class="line"><span class="keyword">DECLARE</span> CustCursor <span class="keyword">CURSOR</span></span><br><span class="line"><span class="keyword">FOR</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> cust_email <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä½¿ç”¨æ¸¸æ ‡ */</span></span><br><span class="line"><span class="keyword">OPEN</span> <span class="keyword">CURSOR</span> CustCursor</span><br><span class="line"></span><br><span class="line"><span class="comment">-- æ£€ç´¢ç¬¬ä¸€è¡Œ</span></span><br><span class="line"><span class="keyword">DECLARE</span> TYPE CustCursor <span class="keyword">IS</span> <span class="keyword">REF</span> <span class="keyword">CURSOR</span></span><br><span class="line">    <span class="keyword">RETURN</span> Customers<span class="operator">%</span>ROWTYPE;</span><br><span class="line"><span class="keyword">DECLARE</span> CustRecord Customers<span class="operator">%</span>ROWTYPE</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">OPEN</span> CustCursor;</span><br><span class="line">    <span class="keyword">FETCH</span> CustCursor <span class="keyword">INTO</span> CustRecord;</span><br><span class="line">    <span class="keyword">CLOSE</span> CustCursor;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- å¾ªç¯å¤„ç†æ£€ç´¢å‡ºæ¥çš„æ¯ä¸€è¡Œ</span></span><br><span class="line"><span class="keyword">DECLARE</span> TYPE CustCursor <span class="keyword">IS</span> <span class="keyword">REF</span> <span class="keyword">CURSOR</span></span><br><span class="line">    <span class="keyword">RETURN</span> Customers<span class="operator">%</span>ROWTYPE;</span><br><span class="line"><span class="keyword">DECLARE</span> CustRecord Customers<span class="operator">%</span>ROWTYPE</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">		<span class="keyword">OPEN</span> CustCursor;</span><br><span class="line">		LOOP</span><br><span class="line">		<span class="keyword">FETCH</span> CustCursor <span class="keyword">INTO</span> CustRecord; EXIT <span class="keyword">WHEN</span> CustCursor<span class="operator">%</span>NOTFOUND;</span><br><span class="line">		...</span><br><span class="line">		<span class="keyword">END</span> LOOP;</span><br><span class="line">		<span class="keyword">CLOSE</span> CustCursor;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å…³é—­æ¸¸æ ‡ */</span></span><br><span class="line"><span class="keyword">CLOSE</span> CustCursor</span><br></pre></td></tr></table></figure>

<h2 id="é«˜çº§SQLç‰¹æ€§"><a href="#é«˜çº§SQLç‰¹æ€§" class="headerlink" title="é«˜çº§SQLç‰¹æ€§"></a>é«˜çº§SQLç‰¹æ€§</h2><p>æ¦‚å¿µæ€§çš„å†…å®¹ï¼Œä¸æŠ„ä¹¦äº†ï¼Œå¯ä»¥çœ‹ä¹¦æˆ–è€…çœ‹åšå®¢ã€‚ä¸»è¦åŒ…æ‹¬ï¼š</p>
<ul>
<li>çº¦æŸ<ul>
<li>ä¸»é”®ï¼š<br>ä¸»é”®æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¦æŸï¼Œç”¨æ¥ä¿è¯ä¸€åˆ—(æˆ–ä¸€ç»„åˆ—)ä¸­çš„å€¼æ˜¯å”¯ä¸€çš„ï¼Œè€Œä¸”æ°¸ä¸æ”¹åŠ¨ã€‚</li>
<li>å¤–é”®ï¼š<br>å¤–é”®æ˜¯è¡¨ä¸­çš„ä¸€åˆ—ï¼Œå…¶å€¼å¿…é¡»åˆ—åœ¨å¦ä¸€è¡¨çš„ä¸»é”®ä¸­ã€‚å¤–é”®æ˜¯ä¿è¯å¼•ç”¨å®Œæ•´æ€§çš„æå…¶é‡è¦éƒ¨åˆ†ã€‚</li>
<li>å”¯ä¸€çº¦æŸï¼š<br>å”¯ä¸€çº¦æŸç”¨æ¥ä¿è¯ä¸€åˆ—(æˆ–ä¸€ç»„åˆ—)ä¸­çš„æ•°æ®æ˜¯å”¯ä¸€çš„ã€‚</li>
<li>æ£€æŸ¥çº¦æŸï¼š<br>æ£€æŸ¥çº¦æŸç”¨æ¥ä¿è¯ä¸€åˆ—(æˆ–ä¸€ç»„åˆ—)ä¸­çš„æ•°æ®æ»¡è¶³ä¸€ç»„æŒ‡å®šçš„æ¡ä»¶ã€‚</li>
</ul>
</li>
<li>ç´¢å¼•ï¼š<br>ç´¢å¼•ç”¨æ¥æ’åºæ•°æ®ä»¥åŠ å¿«æœç´¢å’Œæ’åºæ“ä½œçš„é€Ÿåº¦ã€‚</li>
<li>è§¦å‘å™¨ï¼š<br>è§¦å‘å™¨æ˜¯ç‰¹æ®Šçš„å­˜å‚¨è¿‡ç¨‹ï¼Œå®ƒåœ¨ç‰¹å®šçš„æ•°æ®åº“æ´»åŠ¨å‘ç”Ÿæ—¶è‡ªåŠ¨æ‰§è¡Œã€‚è§¦å‘å™¨å¯ä»¥ä¸ç‰¹å®šè¡¨ä¸Šçš„ INSERTã€UPDATE å’Œ DELETE æ“ä½œ(æˆ–ç»„åˆ)ç›¸å…³è”ã€‚</li>
<li>æ•°æ®åº“å®‰å…¨ï¼š<br>åˆ©ç”¨ç®¡ç†æœºåˆ¶æˆäºˆæˆ–é™åˆ¶å¯¹æ•°æ®çš„è®¿é—®ã€‚</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>æœ¬æ–‡ä½œè€…ï¼š </strong>xiaohai
  </li>
  <li class="post-copyright-link">
      <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
      <a href="https://shenxiaohai.me/SQL-in-10Minutes/" title="ã€ŠSQLå¿…çŸ¥å¿…ä¼šã€‹ç¬”è®°">https://shenxiaohai.me/SQL-in-10Minutes/</a>
  </li>
  <li class="post-copyright-license">
      <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/SQL/" rel="tag"><i class="fa fa-tag"></i> SQL</a>
              <a href="/tags/Snippet/" rel="tag"><i class="fa fa-tag"></i> Snippet</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/TRA-05/" rel="prev" title="Tip-Review-Algorithm ç¬¬äº”æœŸ">
                  <i class="fa fa-chevron-left"></i> Tip-Review-Algorithm ç¬¬äº”æœŸ
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/TRA-06/" rel="next" title="Tip-Review-Algorithm ç¬¬å…­æœŸ">
                  Tip-Review-Algorithm ç¬¬å…­æœŸ <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments"><div id="twikoo-comments"></div></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2018 â€“ 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-laptop"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">xiaohai</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/veraposeidon" class="github-corner" title="åœ¨ GitHub ä¸Šå…³æ³¨æˆ‘" aria-label="åœ¨ GitHub ä¸Šå…³æ³¨æˆ‘" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.8/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.3.0/quicklink.umd.js" integrity="sha256-yvJQOINiH9fWemHn0vCA5lsHWJaHs6/ZmO+1Ft04SvM=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"url":"https://shenxiaohai.me/SQL-in-10Minutes/"}</script>
  <script src="/js/third-party/quicklink.js"></script>
<script class="next-config" data-name="twikoo" type="application/json">{"enable":true,"visitor":false,"envId":"https://twikoo-comment.shenxiaohai.me/","el":"#twikoo-comments"}</script>
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.twikoo.el)
    .then(() => NexT.utils.getScript(
      CONFIG.twikoo.jsUrl || 'https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js',
      { condition: window.twikoo }
    ))
    .then(() => {
      twikoo.init(CONFIG.twikoo);
    });
});
</script>
<style>
.post-block, .comments {
  overflow: visible;
}
.tk-owo-emotion {
  display: inline-block;
}
</style>

</body>
</html>
